!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[645],{30645:function(t,n,r){r.r(n),r.d(n,{NewsEventModule:function(){return pe}});var o,s=r(38583),a=r(90665),u=r(51909),c=r(28049),l=r(69545),d=r(88720),g=r(18359),f=r(72553),T=r(90328),Z=r(29400),p=r(92340),h=r(91841),v=((o=function(){function t(i){e(this,t),this.http=i}return i(t,[{key:"getnotifByID",value:function(e){return this.http.get("".concat(p.N.apiUrl,"/push-notif/getnotifbyid/").concat(e))}},{key:"getnotiftype",value:function(){return this.http.get("".concat(p.N.apiUrl,"/push-notif/getnotiftype"))}}]),t}()).\u0275fac=function(e){return new(e||o)(d.LFG(h.eN))},o.\u0275prov=d.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),A=r(54472);function m(e,t){1&e&&(d.TgZ(0,"h4",37),d._uU(1,"New Event"),d.qZA())}function _(e,t){1&e&&(d.TgZ(0,"h4",37),d._uU(1,"Edit Event"),d.qZA())}function q(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*News required"),d.qZA())}function N(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,q,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.NEWS.errors.required)}}function I(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*Start Date required"),d.qZA())}function b(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,I,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.START_DATE.errors.required)}}function E(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*End Date required"),d.qZA())}function y(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,E,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.END_DATE.errors.required)}}function D(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*Description required"),d.qZA())}function x(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,D,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.DESCRIPTION.errors.required)}}function S(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*URL required"),d.qZA())}function C(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,S,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.URL.errors.required)}}function U(e,t){1&e&&(d.TgZ(0,"div",45),d._UZ(1,"div",46),d.qZA())}function w(e,t){1&e&&(d.TgZ(0,"div",47),d._uU(1," Image Uploaded Succesfuly!"),d.qZA())}function O(e,t){1&e&&(d.TgZ(0,"div",48),d._uU(1," Image Upload Failed!"),d.qZA())}var Y=function(e){return{"background-image":e}};function k(e,t){if(1&e&&(d.TgZ(0,"div",40),d._UZ(1,"div",41),d.YNc(2,U,2,0,"div",42),d.YNc(3,w,2,0,"div",43),d.YNc(4,O,2,0,"div",44),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Gre("img-preview","fail"===i.selectedFile.status?"-error":"",""),d.Q6J("ngStyle",d.VKq(7,Y,"url("+i.selectedFile.src+")")),d.xp6(1),d.Q6J("ngIf",i.selectedFile.pending),d.xp6(1),d.Q6J("ngIf","ok"===i.selectedFile.status),d.xp6(1),d.Q6J("ngIf","fail"===i.selectedFile.status)}}function J(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*Picture required"),d.qZA())}function F(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,J,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.PICTURE.errors.required)}}function P(e,t){if(1&e&&(d.TgZ(0,"option",49),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.s9C("value",i.CATEGORY_NEWS_ID),d.xp6(1),d.Oqu(i.CATEGORY_NEWS_NAME)}}function R(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*Category required"),d.qZA())}function Q(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,R,2,0,"div",38),d.qZA()),2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.f.CATEGORY_NEWS_ID.errors.required)}}function M(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*Start Date Notif required"),d.qZA())}function W(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,M,2,0,"div",38),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.f.START_DATE_NOTIF.errors.required)}}var L=function(e){return{"is-invalid":e}};function V(e,t){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"label"),d._uU(2,"Start Date Notif"),d.qZA(),d._UZ(3,"input",50),d.YNc(4,W,2,1,"div",11),d.qZA()),2&e){var i=d.oxw();d.xp6(3),d.Q6J("ngClass",d.VKq(2,L,i.submitted&&i.f.START_DATE_NOTIF.errors)),d.xp6(1),d.Q6J("ngIf",i.submitted&&i.f.START_DATE_NOTIF.errors)}}function B(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*End Date Notif required"),d.qZA())}function G(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,B,2,0,"div",38),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.f.END_DATE_NOTIF.errors.required)}}function K(e,t){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"label"),d._uU(2,"End Date Notif"),d.qZA(),d._UZ(3,"input",51),d.YNc(4,G,2,1,"div",11),d.qZA()),2&e){var i=d.oxw();d.xp6(3),d.Q6J("ngClass",d.VKq(2,L,i.submitted&&i.f.END_DATE_NOTIF.errors)),d.xp6(1),d.Q6J("ngIf",i.submitted&&i.f.END_DATE_NOTIF.errors)}}function j(e,t){if(1&e&&(d.TgZ(0,"option",49),d._uU(1),d.qZA()),2&e){var i=t.$implicit;d.s9C("value",i.NOTIF_TYPE_ID),d.xp6(1),d.Oqu(i.NOTIF_TYPE_NAME)}}function z(e,t){1&e&&(d.TgZ(0,"div",39),d._uU(1,"*notif type required"),d.qZA())}function X(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,z,2,0,"div",38),d.qZA()),2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngIf",i.f.NOTIF_TYPE_ID.errors.required)}}function H(e,t){if(1&e&&(d.TgZ(0,"div",23),d.TgZ(1,"label"),d._uU(2,"Notif Type"),d.qZA(),d.TgZ(3,"div",24),d.TgZ(4,"select",52),d.YNc(5,j,2,2,"option",26),d.qZA(),d.qZA(),d.YNc(6,X,2,1,"div",11),d.qZA()),2&e){var i=d.oxw();d.xp6(4),d.Q6J("ngClass",d.VKq(3,L,i.submitted&&i.f.NOTIF_TYPE_ID.errors)),d.xp6(1),d.Q6J("ngForOf",i.notiftype),d.xp6(1),d.Q6J("ngIf",i.submitted&&i.f.NOTIF_TYPE_ID.errors)}}function $(e,t){1&e&&d._UZ(0,"span")}var ee=function(){return{standalone:!0}},te=function t(i,n){e(this,t),this.src=i,this.file=n,this.pending=!1,this.status="init"},ie=function(){var t=function(){function t(i,n,r,o,s,a,u,c,d){e(this,t),this.formBuilder=i,this.route=n,this.router=r,this.newsEventService=o,this.alertService=s,this.datepipe=a,this.imageService=u,this.industryService=c,this.notifService=d,this.subs=new l.Y,this.loading=!1,this.submitted=!1,this.data=null,this.category=null,this.categoryName=null,this.isChecked=null,this.selectedIndustry=null,this.industrylist=null,this.notiftype=null,this.notifdata=null}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.form=this.formBuilder.group({NEWS_ID:[0],NEWS:["",a.kI.required],START_DATE:["",a.kI.required],END_DATE:["",a.kI.required],START_DATE_NOTIF:[""],END_DATE_NOTIF:[""],NOTIF_TYPE_ID:[""],DESCRIPTION:["",a.kI.required],URL:["",a.kI.required],PICTURE:["",a.kI.required],ISACTIVE:[!0],CATEGORY_NEWS_ID:["",a.kI.required],CATEGORY_NEWS_NAME:[""],notif:[""],group_news_list:[""]}),this.isAddMode||(this.subs.add(this.newsEventService.getById(this.id).pipe((0,c.P)()).subscribe(function(t){e.form.patchValue(t),e.form.get("START_DATE").setValue(e.datepipe.transform(t.START_DATE,"yyyy-MM-ddThh:mm")),e.form.get("END_DATE").setValue(e.datepipe.transform(t.END_DATE,"yyyy-MM-ddThh:mm"))})),this.subs.add(this.newsEventService.getGroupNews(this.id).subscribe(function(t){return e.selectedIndustry=t})),this.subs.add(this.notifService.getnotifByID(this.id).subscribe(function(t){e.notifdata=t,e.notifdata.length>0&&(e.isChecked=!0,e.form.get("START_DATE_NOTIF").setValue(e.datepipe.transform(e.notifdata[0].START_DATE_NOTIF,"yyyy-MM-ddThh:mm")),e.form.get("END_DATE_NOTIF").setValue(e.datepipe.transform(e.notifdata[0].END_DATE_NOTIF,"yyyy-MM-ddThh:mm")),e.form.get("NOTIF_TYPE_ID").setValue(e.notifdata[0].NOTIF_TYPE_ID))}))),this.subs.add(this.newsEventService.getcategory().subscribe(function(t){return e.category=t})),this.subs.add(this.industryService.getlistindustry().subscribe(function(t){return e.industrylist=t})),this.subs.add(this.notifService.getnotiftype().subscribe(function(t){return e.notiftype=t}))}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.createNewsEvent())}},{key:"onSuccess",value:function(){this.selectedFile.pending=!1,this.selectedFile.status="ok"}},{key:"onError",value:function(){this.selectedFile.pending=!1,this.selectedFile.status="fail",this.selectedFile.src=""}},{key:"processFile",value:function(e){var t=this,i=e.files[0],n=new FileReader;this.form.value.PICTURE&&this.imageService.deleteImage(this.form.value.PICTURE).pipe((0,c.P)()).subscribe(),n.addEventListener("load",function(e){t.selectedFile=new te(e.target.result,i),t.imageService.uploadImage(t.selectedFile.file).subscribe(function(e){t.form.get("PICTURE").setValue(e.filename),t.onSuccess()},function(e){t.onError()})}),n.readAsDataURL(i)}},{key:"onSelectClick",value:function(e){this.categoryName=this.category.filter(function(t){return t.CATEGORY_NEWS_ID==e})[0].CATEGORY_NEWS_NAME,this.form.get("CATEGORY_NEWS_NAME").setValue(this.categoryName)}},{key:"createNewsEvent",value:function(){var e=this;this.isAddMode||this.isChecked&&this.form.get("notif").setValue({NOTIF_ID:this.notifdata[0].NOTIF_ID,START_DATE_NOTIF:this.form.value.START_DATE_NOTIF,END_DATE_NOTIF:this.form.value.END_DATE_NOTIF,NOTIF_TYPE_ID:this.form.value.NOTIF_TYPE_ID,DATA_ID:this.notifdata[0].DATA_ID,DISCORD_ID:this.notifdata[0].DISCORD_ID}),this.isAddMode&&this.isChecked&&this.form.get("notif").setValue({START_DATE_NOTIF:this.form.value.START_DATE_NOTIF,END_DATE_NOTIF:this.form.value.END_DATE_NOTIF,NOTIF_TYPE_ID:this.form.value.NOTIF_TYPE_ID}),this.alertService.loading(),this.subs.add(this.newsEventService.create(this.form.value).pipe((0,c.P)()).subscribe({next:function(){e.alertService.success(),e.router.navigate(["../"],{relativeTo:e.route})},error:function(t){e.alertService.error(t),e.loading=!1}}))}},{key:"changed",value:function(e){this.isChecked=e.target.checked}},{key:"onSelection",value:function(e){this.form.get("group_news_list").setValue(e)}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(a.qu),d.Y36(u.gz),d.Y36(u.F0),d.Y36(g.f),d.Y36(f.c9),d.Y36(s.uU),d.Y36(T.C),d.Y36(Z.L),d.Y36(v))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],decls:84,vars:44,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/news-event",1,"main-btn","primary-btn","rounded-btn","btn-hover","btn-sm"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],[1,"input-style-1"],["type","text","formControlName","NEWS",3,"ngClass"],[4,"ngIf"],["type","datetime-local","formControlName","START_DATE",3,"ngClass"],["type","datetime-local","formControlName","END_DATE",3,"ngClass"],[1,"input-style-3"],["placeholder","description","formControlName","DESCRIPTION",3,"ngClass"],[1,"icon"],[1,"lni","lni-text-format"],["type","text","formControlName","URL",3,"ngClass"],["type","file","accept","image/*",3,"change"],["imageInput",""],["class","img-preview-container",4,"ngIf"],["type","text","formControlName","PICTURE","disabled","",3,"ngClass"],[1,"select-style-1"],[1,"select-position"],["formControlName","CATEGORY_NEWS_ID",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","INDUSTRY_NAME","placeholder","Select Industry","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-check","form-switch","toggle-switch","mb-30"],["formControlName","ISACTIVE","type","checkbox","id","toggleSwitch1",1,"form-check-input"],["for","toggleSwitch1",1,"form-check-label"],["type","checkbox","id","toggleSwitch2",1,"form-check-input",3,"checked","change"],["for","toggleSwitch2",1,"form-check-label"],["class","input-style-1",4,"ngIf"],["class","select-style-1",4,"ngIf"],["routerLink","/news-event",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover","btn-sm"],[1,"main-btn","primary-btn","rounded-btn","btn-hover","btn-sm",3,"disabled"],[1,"mr-40"],["style","color:red",4,"ngIf"],[2,"color","red"],[1,"img-preview-container"],[3,"ngStyle"],["class","img-loading-overlay",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"img-loading-overlay"],[1,"img-spinning-circle"],[1,"alert","alert-success"],[1,"alert","alert-danger"],[3,"value"],["type","datetime-local","formControlName","START_DATE_NOTIF",3,"ngClass"],["type","datetime-local","formControlName","END_DATE_NOTIF",3,"ngClass"],["formControlName","NOTIF_TYPE_ID",3,"ngClass"]],template:function(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"div",0),d.YNc(1,m,2,0,"h4",1),d.YNc(2,_,2,0,"h4",1),d.TgZ(3,"button",2),d._UZ(4,"i",3),d._uU(5,"Back"),d.qZA(),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"form",5),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"h5"),d._uU(11,"News Description"),d.qZA(),d.TgZ(12,"span",8),d._UZ(13,"hr"),d.qZA(),d.TgZ(14,"div",9),d.TgZ(15,"label"),d._uU(16,"News"),d.qZA(),d._UZ(17,"input",10),d.YNc(18,N,2,1,"div",11),d.qZA(),d.TgZ(19,"div",9),d.TgZ(20,"label"),d._uU(21,"Start Date"),d.qZA(),d._UZ(22,"input",12),d.YNc(23,b,2,1,"div",11),d.qZA(),d.TgZ(24,"div",9),d.TgZ(25,"label"),d._uU(26,"End Date"),d.qZA(),d._UZ(27,"input",13),d.YNc(28,y,2,1,"div",11),d.qZA(),d.TgZ(29,"div",14),d.TgZ(30,"textarea",15),d._uU(31," "),d.qZA(),d.TgZ(32,"span",16),d._UZ(33,"i",17),d.qZA(),d.YNc(34,x,2,1,"div",11),d.qZA(),d.TgZ(35,"div",9),d.TgZ(36,"label"),d._uU(37,"URL"),d.qZA(),d._UZ(38,"input",18),d.YNc(39,C,2,1,"div",11),d.qZA(),d.TgZ(40,"div",9),d.TgZ(41,"label"),d._uU(42,"Select Image"),d.qZA(),d.TgZ(43,"input",19,20),d.NdJ("change",function(){d.CHM(i);var e=d.MAs(44);return t.processFile(e)}),d.qZA(),d.qZA(),d.YNc(45,k,5,9,"div",21),d.TgZ(46,"div",9),d.TgZ(47,"label"),d._uU(48,"PICTURE"),d.qZA(),d._UZ(49,"input",22),d.YNc(50,F,2,1,"div",11),d.qZA(),d.TgZ(51,"div",23),d.TgZ(52,"label"),d._uU(53,"Category"),d.qZA(),d.TgZ(54,"div",24),d.TgZ(55,"select",25),d.NdJ("change",function(e){return t.onSelectClick(e.target.value)}),d.YNc(56,P,2,2,"option",26),d.qZA(),d.qZA(),d.YNc(57,Q,2,1,"div",11),d.qZA(),d.TgZ(58,"div"),d.TgZ(59,"label"),d._uU(60,"Group News By Industry"),d.qZA(),d.TgZ(61,"div",24),d.TgZ(62,"ng-select",27),d.NdJ("change",function(e){return t.onSelection(e)})("ngModelChange",function(e){return t.selectedIndustry=e}),d.qZA(),d.qZA(),d.qZA(),d._UZ(63,"br"),d.TgZ(64,"div",28),d._UZ(65,"input",29),d.TgZ(66,"label",30),d._uU(67,"IsActive"),d.qZA(),d.qZA(),d.TgZ(68,"div",28),d.TgZ(69,"input",31),d.NdJ("change",function(e){return t.changed(e)}),d.qZA(),d.TgZ(70,"label",32),d._uU(71,"Set Notif"),d.qZA(),d.qZA(),d.YNc(72,V,5,4,"div",33),d.YNc(73,K,5,4,"div",33),d.YNc(74,H,7,5,"div",34),d.TgZ(75,"span",8),d._UZ(76,"hr"),d.qZA(),d.TgZ(77,"div"),d.TgZ(78,"button",35),d._uU(79," Cancel "),d.qZA(),d._uU(80,"\xa0 "),d.TgZ(81,"button",36),d.YNc(82,$,1,0,"span",11),d._uU(83," \xa0Save\xa0 "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&e&&(d.xp6(1),d.Q6J("ngIf",t.isAddMode),d.xp6(1),d.Q6J("ngIf",!t.isAddMode),d.xp6(5),d.Q6J("formGroup",t.form),d.xp6(10),d.Q6J("ngClass",d.VKq(29,L,t.submitted&&t.f.NEWS.errors)),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.NEWS.errors),d.xp6(4),d.Q6J("ngClass",d.VKq(31,L,t.submitted&&t.f.START_DATE.errors)),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.START_DATE.errors),d.xp6(4),d.Q6J("ngClass",d.VKq(33,L,t.submitted&&t.f.END_DATE.errors)),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.END_DATE.errors),d.xp6(2),d.Q6J("ngClass",d.VKq(35,L,t.submitted&&t.f.DESCRIPTION.errors)),d.xp6(4),d.Q6J("ngIf",t.submitted&&t.f.DESCRIPTION.errors),d.xp6(4),d.Q6J("ngClass",d.VKq(37,L,t.submitted&&t.f.URL.errors)),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.URL.errors),d.xp6(6),d.Q6J("ngIf",t.selectedFile),d.xp6(4),d.Q6J("ngClass",d.VKq(39,L,t.submitted&&t.f.PICTURE.errors)),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.PICTURE.errors),d.xp6(5),d.Q6J("ngClass",d.VKq(41,L,t.submitted&&t.f.CATEGORY_NEWS_ID.errors)),d.xp6(1),d.Q6J("ngForOf",t.category),d.xp6(1),d.Q6J("ngIf",t.submitted&&t.f.CATEGORY_NEWS_ID.errors),d.xp6(5),d.Q6J("items",t.industrylist)("multiple",!0)("ngModel",t.selectedIndustry)("ngModelOptions",d.DdM(43,ee)),d.xp6(7),d.Q6J("checked",t.isChecked),d.xp6(3),d.Q6J("ngIf",t.isChecked),d.xp6(1),d.Q6J("ngIf",t.isChecked),d.xp6(1),d.Q6J("ngIf",t.isChecked),d.xp6(7),d.Q6J("disabled",t.loading),d.xp6(1),d.Q6J("ngIf",t.loading))},directives:[s.O5,u.rH,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,s.mk,a.EJ,s.sg,A.w9,a.On,a.Wl,s.PC,a.YN,a.Kr],styles:['.image-upload-container[_ngcontent-%COMP%]{cursor:pointer}.img-preview-container[_ngcontent-%COMP%]{background-color:#f7f7f7;position:relative}.img-preview-container[_ngcontent-%COMP%]   .img-preview[_ngcontent-%COMP%]{background:center center no-repeat;background-size:contain;height:116px;width:116px}.img-preview-container[_ngcontent-%COMP%]   .img-preview-error[_ngcontent-%COMP%]{display:none}.img-loading-overlay[_ngcontent-%COMP%]{background-color:#000;bottom:0;left:0;opacity:.2;position:absolute;right:0;top:0}.img-spinning-circle[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;margin:auto;position:absolute;top:0;left:0;bottom:0;right:0}.img-spinning-circle[_ngcontent-%COMP%]:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t}(),ne=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&d._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),t}(),re=r(86314),oe=r.n(re),se=r(10258),ae=r(72533),ue=r(44981);function ce(e,t){1&e&&(d.TgZ(0,"div"),d.TgZ(1,"span",36),d._uU(2,"Active"),d.qZA(),d.qZA())}function le(e,t){1&e&&(d.TgZ(0,"span",37),d._uU(1,"Off"),d.qZA())}function de(e,t){1&e&&(d.TgZ(0,"span"),d._UZ(1,"i",38),d.qZA())}function ge(e,t){if(1&e){var i=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d.TgZ(2,"div",24),d._UZ(3,"img",25),d.qZA(),d.qZA(),d.TgZ(4,"td",26),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"td",26),d.TgZ(8,"p"),d._uU(9),d.ALo(10,"date"),d.qZA(),d.qZA(),d.TgZ(11,"td",26),d.TgZ(12,"p"),d._uU(13),d.ALo(14,"date"),d.qZA(),d.qZA(),d.TgZ(15,"td",26),d.TgZ(16,"p"),d._uU(17),d.qZA(),d.qZA(),d.TgZ(18,"td",26),d.YNc(19,ce,3,0,"div",27),d.YNc(20,le,2,0,"ng-template",null,28,d.W1O),d.qZA(),d.TgZ(22,"td"),d.TgZ(23,"div",29),d.TgZ(24,"button",30),d.NdJ("click",function(){return d.CHM(i),d.oxw().subscribeToNotification()}),d._UZ(25,"i",31),d.qZA(),d._uU(26,"\xa0 "),d.TgZ(27,"button",32),d._UZ(28,"i",33),d.qZA(),d._uU(29,"\xa0 "),d.TgZ(30,"button",34),d.NdJ("click",function(){var e=d.CHM(i).$implicit;return d.oxw().confirmBox("delete",e)}),d.YNc(31,de,2,0,"span",35),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var n=t.$implicit,r=d.MAs(21),o=d.oxw();d.xp6(3),d.s9C("src",o.apiurl+n.PICTURE,d.LSH),d.xp6(3),d.Oqu(n.NEWS),d.xp6(3),d.Oqu(d.xi3(10,10,n.START_DATE,"fullDate")),d.xp6(4),d.Oqu(d.xi3(14,13,n.END_DATE,"fullDate")),d.xp6(4),d.Oqu(n.CATEGORY_NEWS_NAME),d.xp6(2),d.Q6J("ngIf",n.ISACTIVE)("ngIfElse",r),d.xp6(8),d.MGl("routerLink","edit/",n.NEWS_ID,""),d.xp6(3),d.Q6J("disabled",n.isDeleting),d.xp6(1),d.Q6J("ngIf",!n.isDeleting)}}var fe=function(e,t){return{itemsPerPage:e,currentPage:t}},Te=[{path:"news-event",component:ne,children:[{path:"",component:function(){var t=function(){function t(i,n,r,o){e(this,t),this.newseventService=i,this.imageService=n,this.swPush=r,this.alertService=o,this.subs=new l.Y,this.news=null,this.VAPID_PUBLIC_KEY="BPSXG3mAlQc4zZ9aluFL8rCwgzJRcdWvLkBQYEPV7nukhcKAO8iUXhxLaeecUojilqloMXmvKwW8WmBK3Od87Zw",this.baseUrl="http://localhost:4200/news",this.p=1,this.count=10,this.countdata=null,this.apiurl=p.N.apiUrl+"/image/"}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.subs.add(this.newseventService.getAll().pipe((0,c.P)()).subscribe(function(t){e.news=t,e.countdata=e.news.length}))}},{key:"deleteNews",value:function(e){var t=this;this.alertService.loading();var i=this.news.find(function(t){return t.NEWS_ID===e.NEWS_ID});this.subs.add(this.newseventService.delete(e.NEWS_ID).pipe((0,c.P)()).subscribe(function(){i.isDeleting=!0,t.news=t.news.filter(function(t){return t.NEWS_ID!==e.NEWS_ID}),t.subs.add(t.imageService.deleteImage(i.PICTURE).pipe((0,c.P)()).subscribe()),t.countdata=t.news.length,t.alertService.success()},function(e){t.alertService.error(e)}))}},{key:"subscribeToNotification",value:function(){this.swPush.isEnabled&&(console.log("masukk"),this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then(function(e){return console.log(e)}).catch(function(e){return console.error("Could not subscribe to notifications",e)}))}},{key:"confirmBox",value:function(e,t){var i=this;"delete"==e&&oe().fire({title:"Are you sure want to delete?",text:t.NEWS,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(function(e){e.value&&i.deleteNews(t)})}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(g.f),d.Y36(T.C),d.Y36(se.Mk),d.Y36(f.c9))},t.\u0275cmp=d.Xpm({type:t,selectors:[["ng-component"]],decls:60,vars:12,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"tables-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card-style","mb-30"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"employee-image"],["alt","",3,"src"],[1,"min-width"],[4,"ngIf","ngIfElse"],["off",""],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"click"],[1,"lni","lni-alarm"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[4,"ngIf"],[1,"status-btn","active-btn"],[1,"status-btn","close-btn"],[1,"lni","lni-trash-can"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h4",1),d._uU(2,"News & Event"),d.qZA(),d.TgZ(3,"button",2),d._UZ(4,"i",3),d._uU(5," Add "),d.qZA(),d.qZA(),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"div",6),d.TgZ(9,"div",7),d.TgZ(10,"div",8),d._UZ(11,"div",9),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"div",11),d.TgZ(14,"p"),d._uU(15,"Show "),d.TgZ(16,"span"),d._uU(17,"10"),d.qZA(),d._uU(18," entries"),d.qZA(),d.qZA(),d.TgZ(19,"div",12),d.TgZ(20,"div",13),d.TgZ(21,"form",14),d.TgZ(22,"input",15),d.NdJ("ngModelChange",function(e){return t.filterdata=e}),d.qZA(),d.TgZ(23,"button"),d._UZ(24,"i",16),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",17),d.TgZ(26,"table",18),d.TgZ(27,"thead"),d.TgZ(28,"tr"),d.TgZ(29,"th"),d.TgZ(30,"h6"),d._uU(31,"#"),d.qZA(),d.qZA(),d.TgZ(32,"th"),d.TgZ(33,"h6"),d._uU(34,"News"),d.qZA(),d.qZA(),d.TgZ(35,"th"),d.TgZ(36,"h6"),d._uU(37,"Start Date"),d.qZA(),d.qZA(),d.TgZ(38,"th"),d.TgZ(39,"h6"),d._uU(40,"End Date"),d.qZA(),d.qZA(),d.TgZ(41,"th"),d.TgZ(42,"h6"),d._uU(43,"Category"),d.qZA(),d.qZA(),d.TgZ(44,"th"),d.TgZ(45,"h6"),d._uU(46,"Status"),d.qZA(),d.qZA(),d.TgZ(47,"th"),d.TgZ(48,"h6"),d._uU(49,"Action"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(50,"tbody"),d.YNc(51,ge,32,16,"tr",19),d.ALo(52,"paginate"),d.ALo(53,"filter"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(54,"div",20),d.TgZ(55,"div",11),d.TgZ(56,"p",21),d._uU(57),d.qZA(),d.qZA(),d.TgZ(58,"div",22),d.TgZ(59,"pagination-controls",23),d.NdJ("pageChange",function(e){return t.p=e}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(22),d.Q6J("ngModel",t.filterdata),d.xp6(29),d.Q6J("ngForOf",d.xi3(52,3,d.xi3(53,6,t.news,t.filterdata),d.WLB(9,fe,t.count,t.p))),d.xp6(6),d.hij("Total ",t.countdata," Data"))},directives:[u.rH,a._Y,a.JL,a.F,a.Fj,a.JJ,a.On,s.sg,ae.LS,s.O5],pipes:[ae._s,ue.Z,s.uU],encapsulation:2}),t}()},{path:"add",component:ie},{path:"edit/:id",component:ie}]}],Ze=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[u.Bz.forChild(Te)],u.Bz]}),t}(),pe=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[s.uU],imports:[[s.ez,a.UX,Ze,A.A0,a.u5,se.Wr.register("ngsw-worker.js",{enabled:!0}),ae.JX,ue.h]]}),t}()}}])}();
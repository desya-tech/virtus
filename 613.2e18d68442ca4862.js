"use strict";(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[613],{7613:(It,h,d)=>{d.r(h),d.d(h,{ProductModule:()=>At});var a=d(9808),c=d(4182),u=d(8266),p=d(7224),_=d(8745),m=d(2340),t=d(9863),f=d(4916),T=d(3800),C=d(1914),Z=d(328),x=d(636);function b(i,o){1&i&&(t.TgZ(0,"h2",22),t._uU(1,"New Product"),t.qZA())}function U(i,o){1&i&&(t.TgZ(0,"h2",22),t._uU(1,"Edit Product"),t.qZA())}function I(i,o){1&i&&(t.TgZ(0,"div"),t._uU(1,"Product"),t.qZA())}function y(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,I,2,0,"div",15),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.PRODUCT_NAME.errors.required)}}const g=function(i){return{"is-invalid":i}};function M(i,o){if(1&i&&(t.TgZ(0,"div",13)(1,"label"),t._uU(2,"Product"),t.qZA(),t._UZ(3,"input",23),t.YNc(4,y,2,1,"div",15),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(2,g,e.submitted&&e.f.PRODUCT_NAME.errors)),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.PRODUCT_NAME.errors)}}function q(i,o){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.s9C("value",e.PRODUCT_ID),t.xp6(1),t.Oqu(e.PRODUCT_NAME)}}function N(i,o){1&i&&(t.TgZ(0,"div",29),t._uU(1,"*product required"),t.qZA())}function E(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,N,2,0,"div",28),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.f.PRODUCT_ID.errors.required)}}function O(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"label"),t._uU(2,"Product"),t.qZA(),t.TgZ(3,"div",24)(4,"select",25),t.NdJ("change",function(r){return t.CHM(e),t.oxw().onSelectClick(r.target.value)}),t.YNc(5,q,2,2,"option",26),t.qZA()(),t.YNc(6,E,2,1,"div",15),t.qZA()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngClass",t.VKq(3,g,e.submitted&&e.f.PRODUCT_ID.errors)),t.xp6(1),t.Q6J("ngForOf",e.products),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.PRODUCT_ID.errors)}}function J(i,o){1&i&&(t.TgZ(0,"div",29),t._uU(1,"*Description required"),t.qZA())}function S(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,J,2,0,"div",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.DESCRIPTION.errors.required)}}function R(i,o){1&i&&(t.TgZ(0,"div",29),t._uU(1,"*URL required"),t.qZA())}function w(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,R,2,0,"div",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.URL.errors.required)}}function Y(i,o){1&i&&(t.TgZ(0,"div",35),t._UZ(1,"div",36),t.qZA())}function D(i,o){1&i&&(t.TgZ(0,"div",37),t._uU(1," Image Uploaded Succesfuly!"),t.qZA())}function L(i,o){1&i&&(t.TgZ(0,"div",38),t._uU(1," Image Upload Failed!"),t.qZA())}const F=function(i){return{"background-image":i}};function Q(i,o){if(1&i&&(t.TgZ(0,"div",30),t._UZ(1,"div",31),t.YNc(2,Y,2,0,"div",32),t.YNc(3,D,2,0,"div",33),t.YNc(4,L,2,0,"div",34),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Gre("img-preview","fail"===e.selectedFile.status?"-error":"",""),t.Q6J("ngStyle",t.VKq(7,F,"url("+e.selectedFile.src+")")),t.xp6(1),t.Q6J("ngIf",e.selectedFile.pending),t.xp6(1),t.Q6J("ngIf","ok"===e.selectedFile.status),t.xp6(1),t.Q6J("ngIf","fail"===e.selectedFile.status)}}function k(i,o){1&i&&(t.TgZ(0,"div",29),t._uU(1,"*Picture required"),t.qZA())}function G(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,k,2,0,"div",28),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.PICTURE.errors.required)}}function H(i,o){1&i&&t._UZ(0,"span")}const B=function(){return{standalone:!0}};class V{constructor(o,e){this.src=o,this.file=e,this.pending=!1,this.status="init"}}let P=(()=>{class i{constructor(e,n,r,s,l,bt,Ut){this.formBuilder=e,this.route=n,this.router=r,this.productService=s,this.categoryProductService=l,this.alertService=bt,this.imageService=Ut,this.subs=new _.Y,this.loading=!1,this.submitted=!1,this.products=null,this.productName=null,this.categoryProduct=null,this.selectcategoryProduct=null,this.selected=null,this.apiurl=m.N.apiUrl,this.filenameimage=null}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.selected=null,this.form=this.formBuilder.group({M_PRODUCT_ID:[0],PRODUCT_ID:["",c.kI.required],PRODUCT_NAME:[""],DESCRIPTION:["",c.kI.required],URL:["",c.kI.required],PICTURE:["",c.kI.required],category_product_list:[""]}),this.isAddMode||(this.subs.add(this.productService.getById(this.id).pipe((0,p.P)()).subscribe(e=>this.form.patchValue(e))),this.subs.add(this.productService.getCategoryMProduct(this.id).pipe((0,p.P)()).subscribe(e=>this.selectcategoryProduct=e))),this.subs.add(this.productService.getProduct().subscribe(e=>this.products=e)),this.subs.add(this.categoryProductService.getAllActive().subscribe(e=>this.categoryProduct=e))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.form.value.category_product_list=this.selectcategoryProduct,this.loading=!0,this.isAddMode?this.createProduct():this.updateProduct())}onSelection(e){this.selectcategoryProduct=e}createProduct(){this.alertService.loading(),this.subs.add(this.productService.create(this.form.value).pipe((0,p.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}}))}updateProduct(){this.alertService.loading(),this.subs.add(this.productService.update(this.id,this.form.value).pipe((0,p.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}}))}onSuccess(){this.selectedFile.pending=!1,this.selectedFile.status="ok"}onError(){this.selectedFile.pending=!1,this.selectedFile.status="fail",this.selectedFile.src=""}processFile(e){const n=e.files[0],r=new FileReader;this.form.value.PICTURE&&this.imageService.deleteImage(this.form.value.PICTURE).pipe((0,p.P)()).subscribe(),r.addEventListener("load",s=>{this.selectedFile=new V(s.target.result,n),this.imageService.uploadImage(this.selectedFile.file).subscribe(l=>{this.form.get("PICTURE").setValue(l.filename),this.onSuccess()},l=>{this.onError()})}),r.readAsDataURL(n)}onSelectClick(e){this.productName=this.products.filter(n=>n.PRODUCT_ID===e)[0].PRODUCT_NAME,this.form.get("PRODUCT_NAME").setValue(this.productName)}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.qu),t.Y36(u.gz),t.Y36(u.F0),t.Y36(f.M),t.Y36(T.v),t.Y36(C.c9),t.Y36(Z.C))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-add-edit"]],decls:51,vars:25,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/product",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],["class","input-style-1",4,"ngIf"],["class","select-style-1",4,"ngIf"],[1,"select-style-1"],["bindLabel","CATEGORY_PRODUCT_NAME","placeholder","Select Category","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"input-style-1"],["formControlName","DESCRIPTION","rows","5",3,"ngClass"],[4,"ngIf"],["type","text","formControlName","URL",3,"ngClass"],["type","file","accept","image/*",3,"change"],["imageInput",""],["class","img-preview-container",4,"ngIf"],["type","text","formControlName","PICTURE","disabled","",3,"ngClass"],[1,"main-btn","primary-btn","rounded-btn","btn-hover",3,"disabled"],[1,"mr-40"],["type","text","formControlName","PRODUCT_NAME","disabled","",3,"ngClass"],[1,"select-position"],["formControlName","PRODUCT_ID",3,"ngClass","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["style","color:red",4,"ngIf"],[2,"color","red"],[1,"img-preview-container"],[3,"ngStyle"],["class","img-loading-overlay",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"img-loading-overlay"],[1,"img-spinning-circle"],[1,"alert","alert-success"],[1,"alert","alert-danger"]],template:function(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"div",0),t.YNc(1,b,2,0,"h2",1),t.YNc(2,U,2,0,"h2",1),t.TgZ(3,"button",2),t._UZ(4,"i",3),t._uU(5,"Back"),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(8,"div",6)(9,"div",7)(10,"h5"),t._uU(11,"Product Description"),t.qZA(),t.TgZ(12,"span",8),t._UZ(13,"hr"),t.qZA(),t.YNc(14,M,5,4,"div",9),t.YNc(15,O,7,5,"div",10),t.TgZ(16,"div",11)(17,"label"),t._uU(18,"Category"),t.qZA(),t.TgZ(19,"ng-select",12),t.NdJ("change",function(l){return n.onSelection(l)})("ngModelChange",function(l){return n.selectcategoryProduct=l}),t.qZA()(),t.TgZ(20,"div",13)(21,"label"),t._uU(22,"Description"),t.qZA(),t.TgZ(23,"textarea",14),t._uU(24," "),t.qZA(),t.YNc(25,S,2,1,"div",15),t.qZA(),t.TgZ(26,"div",13)(27,"label"),t._uU(28,"URL"),t.qZA(),t._UZ(29,"input",16),t.YNc(30,w,2,1,"div",15),t.qZA(),t.TgZ(31,"div",13)(32,"label"),t._uU(33,"Select Image"),t.qZA(),t.TgZ(34,"input",17,18),t.NdJ("change",function(){t.CHM(r);const l=t.MAs(35);return n.processFile(l)}),t.qZA()(),t.YNc(36,Q,5,9,"div",19),t.TgZ(37,"div",13)(38,"label"),t._uU(39,"PICTURE"),t.qZA(),t._UZ(40,"input",20),t.YNc(41,G,2,1,"div",15),t.qZA(),t.TgZ(42,"span",8),t._UZ(43,"hr"),t.qZA(),t.TgZ(44,"div")(45,"button",2),t._uU(46," Cancel "),t.qZA(),t._uU(47,"\xa0 "),t.TgZ(48,"button",21),t.YNc(49,H,1,0,"span",15),t._uU(50," \xa0Save\xa0 "),t.qZA()()()()()()}2&e&&(t.xp6(1),t.Q6J("ngIf",n.isAddMode),t.xp6(1),t.Q6J("ngIf",!n.isAddMode),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(7),t.Q6J("ngIf",!n.isAddMode),t.xp6(1),t.Q6J("ngIf",n.isAddMode),t.xp6(4),t.Q6J("items",n.categoryProduct)("multiple",!0)("ngModel",n.selectcategoryProduct)("ngModelOptions",t.DdM(18,B)),t.xp6(4),t.Q6J("ngClass",t.VKq(19,g,n.submitted&&n.f.DESCRIPTION.errors)),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.f.DESCRIPTION.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(21,g,n.submitted&&n.f.URL.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.URL.errors),t.xp6(6),t.Q6J("ngIf",n.selectedFile),t.xp6(4),t.Q6J("ngClass",t.VKq(23,g,n.submitted&&n.f.PICTURE.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.PICTURE.errors),t.xp6(7),t.Q6J("disabled",n.loading),t.xp6(1),t.Q6J("ngIf",n.loading))},directives:[a.O5,u.rH,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,a.mk,c.EJ,a.sg,c.YN,c.Kr,x.w9,c.On,a.PC],styles:['.image-upload-container[_ngcontent-%COMP%]{cursor:pointer}.img-preview-container[_ngcontent-%COMP%]{background-color:#f7f7f7;position:relative}.img-preview-container[_ngcontent-%COMP%]   .img-preview[_ngcontent-%COMP%]{background:center center no-repeat;background-size:contain;height:116px;width:116px}.img-preview-container[_ngcontent-%COMP%]   .img-preview-error[_ngcontent-%COMP%]{display:none}.img-loading-overlay[_ngcontent-%COMP%]{background-color:#000;bottom:0;left:0;opacity:.2;position:absolute;right:0;top:0}.img-spinning-circle[_ngcontent-%COMP%]{display:inline-block;width:64px;height:64px;margin:auto;position:absolute;top:0;left:0;bottom:0;right:0}.img-spinning-circle[_ngcontent-%COMP%]:after{content:" ";display:block;width:46px;height:46px;margin:1px;border-radius:50%;border:5px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),i})(),j=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-layout"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),i})();var $=d(2454),K=d.n($),v=d(8567),A=d(3189);function z(i,o){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._UZ(3,"i",12),t.qZA(),t.TgZ(4,"div",13)(5,"h6",14),t._uU(6),t.qZA(),t.TgZ(7,"p",15)(8,"a",16),t._uU(9,"Open Web URL"),t.qZA()(),t.TgZ(10,"p",15)(11,"a",17),t._uU(12,"View Related Products >>"),t.qZA()()()()()),2&i){const e=o.$implicit;t.xp6(6),t.Oqu(e.CATEGORY_PRODUCT_NAME),t.xp6(2),t.s9C("href",e.URL,t.LSH),t.xp6(3),t.hYB("routerLink","group/",e.CATEGORY_PRODUCT_ID,"/",e.CATEGORY_PRODUCT_NAME,"")}}function X(i,o){1&i&&(t.TgZ(0,"button",18),t._UZ(1,"i",19),t._uU(2,"New Product"),t.qZA())}function W(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().isManaging=!1}),t._uU(1,"Cancel"),t.qZA()}}function tt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).isManaging=!0}),t._uU(1,"Detailed View"),t.qZA()}}function et(i,o){if(1&i&&t.YNc(0,tt,2,0,"a",21),2&i){const e=t.oxw();t.Q6J("ngIf",e.rule.CONTENT_MGMT)}}function it(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",32),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).gridLayout=!1}),t._UZ(1,"i",33),t.qZA()}}function nt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",35),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).gridLayout=!0}),t._UZ(1,"i",36),t.qZA()}}function ot(i,o){if(1&i&&t.YNc(0,nt,2,0,"a",34),2&i){const e=t.oxw(2);t.Q6J("ngIf",!e.isManaging)}}function rt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",22)(2,"div",23)(3,"div",24),t.YNc(4,it,2,0,"a",25),t.YNc(5,ot,1,1,"ng-template",null,26,t.W1O),t._UZ(7,"br")(8,"br"),t.qZA(),t.TgZ(9,"div",27)(10,"div",28)(11,"form",29)(12,"input",30),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().filterdata2=r}),t.qZA(),t.TgZ(13,"button"),t._UZ(14,"i",31),t.qZA()()()()()()()}if(2&i){const e=t.MAs(6),n=t.oxw();t.xp6(4),t.Q6J("ngIf",!n.isManaging&&n.gridLayout)("ngIfElse",e),t.xp6(8),t.Q6J("ngModel",n.filterdata2)}}function ct(i,o){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.CATEGORY_PRODUCT_NAME)}}function dt(i,o){1&i&&(t.TgZ(0,"span"),t._UZ(1,"i",57),t.qZA())}function st(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",50),t._UZ(3,"img",51),t.qZA()(),t.TgZ(4,"td",52)(5,"p"),t._uU(6),t.qZA()(),t.TgZ(7,"td",52),t.YNc(8,ct,2,1,"p",45),t.qZA(),t.TgZ(9,"td",52)(10,"p"),t._uU(11),t.qZA()(),t.TgZ(12,"td")(13,"div",53)(14,"button",54),t._UZ(15,"i",55),t.qZA(),t._uU(16,"\xa0 "),t.TgZ(17,"button",56),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).delete(s.M_PRODUCT_ID)}),t.YNc(18,dt,2,0,"span",8),t.qZA()()()()}if(2&i){const e=o.$implicit,n=t.oxw(3);t.xp6(3),t.s9C("src",n.apiurl+e.PICTURE,t.LSH),t.xp6(3),t.Oqu(e.PRODUCT_NAME),t.xp6(2),t.Q6J("ngForOf",e.category_product_list),t.xp6(3),t.Oqu(e.DESCRIPTION),t.xp6(3),t.MGl("routerLink","edit/",e.M_PRODUCT_ID,""),t.xp6(3),t.Q6J("disabled",e.isDeleting),t.xp6(1),t.Q6J("ngIf",!e.isDeleting)}}const at=function(i,o){return{itemsPerPage:i,currentPage:o}};function lt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",0)(2,"div",39)(3,"div",22)(4,"div",40),t._UZ(5,"div",41),t.qZA(),t.TgZ(6,"div",23)(7,"div",24)(8,"p"),t._uU(9,"Show "),t.TgZ(10,"span"),t._uU(11,"10"),t.qZA(),t._uU(12," entries"),t.qZA()(),t.TgZ(13,"div",27)(14,"div",28)(15,"form",29)(16,"input",42),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw(2).filterdata=r}),t.qZA(),t.TgZ(17,"button"),t._UZ(18,"i",31),t.qZA()()()()(),t.TgZ(19,"div",43)(20,"table",44)(21,"thead")(22,"tr")(23,"th")(24,"h6"),t._uU(25,"#"),t.qZA()(),t.TgZ(26,"th")(27,"h6"),t._uU(28,"Product"),t.qZA()(),t.TgZ(29,"th")(30,"h6"),t._uU(31,"Category"),t.qZA()(),t.TgZ(32,"th")(33,"h6"),t._uU(34,"Desc"),t.qZA()(),t.TgZ(35,"th")(36,"h6"),t._uU(37,"Action"),t.qZA()()()(),t.TgZ(38,"tbody"),t.YNc(39,st,19,7,"tr",45),t.ALo(40,"paginate"),t.ALo(41,"filter"),t.qZA()()(),t.TgZ(42,"div",46)(43,"div",24)(44,"p",47),t._uU(45),t.qZA()(),t.TgZ(46,"div",48)(47,"pagination-controls",49),t.NdJ("pageChange",function(r){return t.CHM(e),t.oxw(2).p=r}),t.qZA()()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(16),t.Q6J("ngModel",e.filterdata),t.xp6(23),t.Q6J("ngForOf",t.xi3(40,3,t.xi3(41,6,e.product,e.filterdata),t.WLB(9,at,e.count,e.p))),t.xp6(6),t.hij("Total ",e.countdata," Products")}}function ut(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,lt,48,12,"div",37),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isManaging)}}function pt(i,o){if(1&i&&(t.TgZ(0,"div",65)(1,"a",66),t._UZ(2,"img",67),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.s9C("href",e.URL,t.LSH),t.xp6(1),t.s9C("src",n.apiurl+e.PICTURE,t.LSH)}}function gt(i,o){if(1&i&&(t.TgZ(0,"div",59)(1,"div",60),t.YNc(2,pt,3,2,"div",61),t.TgZ(3,"div",62)(4,"h4"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"span",63),t._UZ(10,"hr"),t.qZA(),t.TgZ(11,"a",64),t._uU(12,"Selengkapnya"),t.qZA()()()()),2&i){const e=o.$implicit,n=t.oxw(2);t.Q6J("ngClass",n.gridLayout?"col-xl-4 col-lg-4 col-md-6 col-sm-6":""),t.xp6(2),t.Q6J("ngIf",n.gridLayout),t.xp6(3),t.Oqu(e.PRODUCT_NAME),t.xp6(3),t.hij(" ",e.DESCRIPTION," "),t.xp6(3),t.s9C("href",e.URL,t.LSH)}}function _t(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",0),t.YNc(2,gt,13,5,"div",58),t.ALo(3,"filter"),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.xi3(3,1,e.product,e.filterdata2))}}function ft(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().gridLayout=!1}),t._UZ(1,"i",11),t.qZA()}}function vt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"a",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).gridLayout=!0}),t._UZ(1,"i",14),t.qZA()}}function ht(i,o){if(1&i&&t.YNc(0,vt,2,0,"a",12),2&i){const e=t.oxw();t.Q6J("ngIf",!e.isManaging)}}function Tt(i,o){if(1&i&&(t.TgZ(0,"div",22)(1,"a",23),t._UZ(2,"img",24),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.s9C("href",e.URL,t.LSH),t.xp6(1),t.s9C("src",n.apiurl+e.PICTURE,t.LSH)}}function Ct(i,o){if(1&i&&(t.TgZ(0,"div",16)(1,"div",17),t.YNc(2,Tt,3,2,"div",18),t.TgZ(3,"div",19)(4,"h4"),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"span",20),t._UZ(10,"hr"),t.qZA(),t.TgZ(11,"a",21),t._uU(12,"Selengkapnya"),t.qZA()()()()),2&i){const e=o.$implicit,n=t.oxw(2);t.Q6J("ngClass",n.gridLayout?"col-xl-4 col-lg-4 col-md-6 col-sm-6":""),t.xp6(2),t.Q6J("ngIf",n.gridLayout),t.xp6(3),t.Oqu(e.PRODUCT_NAME),t.xp6(3),t.hij(" ",e.DESCRIPTION," "),t.xp6(3),t.s9C("href",e.URL,t.LSH)}}function Zt(i,o){if(1&i&&(t.TgZ(0,"div")(1,"div",0),t.YNc(2,Ct,13,5,"div",15),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.product)}}const xt=[{path:"product",component:j,children:[{path:"",component:(()=>{class i{constructor(e,n,r,s){this.productService=e,this.categoryProductService=n,this.imageService=r,this.alertService=s,this.subs=new _.Y,this.product=null,this.isManaging=!1,this.gridLayout=!0,this.category=null,this.p=1,this.count=10,this.countdata=null,this.apiurl=m.N.apiUrl+"/image/",this.rule=JSON.parse(localStorage.getItem("2"))}ngOnInit(){this.subs.add(this.productService.getAll().pipe((0,p.P)()).subscribe(e=>{this.product=e,this.countdata=this.product.length})),this.subs.add(this.categoryProductService.getAllActive().pipe((0,p.P)()).subscribe(e=>this.category=e))}delete(e){this.alertService.loading();const n=this.product.find(r=>r.M_PRODUCT_ID===e.M_PRODUCT_ID);this.subs.add(this.productService.delete(e.M_PRODUCT_ID).pipe((0,p.P)()).subscribe(()=>{n.isDeleting=!0,this.product=this.product.filter(r=>r.M_PRODUCT_ID!==e.M_PRODUCT_ID),this.countdata=this.product.length,this.alertService.success(),this.subs.add(this.imageService.deleteImage(n.PICTURE).pipe((0,p.P)()).subscribe())},r=>{this.alertService.error(r)}))}onCBChanged(e){this.isManaging=e}confirmBox(e,n){"delete"==e&&K().fire({title:"Are you sure want to delete?",text:n.USERNAME,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(r=>{r.value&&this.delete(n)})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.M),t.Y36(T.v),t.Y36(Z.C),t.Y36(C.c9))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product"]],decls:18,vars:7,consts:[[1,"row"],[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["class","col-xl-4 col-lg-4 col-sm-6",4,"ngFor","ngForOf"],["routerLink","add","class","main-btn primary-btn btn-hover btn-sm",4,"ngIf"],["class","main-btn primary-btn btn-hover btn-sm",3,"click",4,"ngIf","ngIfElse"],["viewMode",""],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-xl-4","col-lg-4","col-sm-6"],[1,"icon-card","mb-30"],[1,"icon","purple"],[1,"lni","lni-cart-full"],[1,"content"],[1,"mb-10"],[1,"text-sm","text-success"],["target","_blank",1,"read-more",3,"href"],[1,"read-more",3,"routerLink"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"main-btn","primary-btn","btn-hover","btn-sm",3,"click"],["class","main-btn primary-btn btn-hover btn-sm",3,"click",4,"ngIf"],[1,"card-style","mb-30"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],["class","main-btn active-btn btn-hover",3,"click",4,"ngIf","ngIfElse"],["metroLayout",""],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search Product",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"main-btn","active-btn","btn-hover",3,"click"],[1,"lni","lni-menu"],["class","main-btn deactive-btn btn-hover",3,"click",4,"ngIf"],[1,"main-btn","deactive-btn","btn-hover",3,"click"],[1,"lni","lni-microsoft"],["class","tables-wrapper",4,"ngIf"],[1,"tables-wrapper"],[1,"col-lg-12"],[1,"row","align-items-center"],[1,"col-md-6"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"employee-image"],["alt","",3,"src"],[1,"min-width"],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[1,"lni","lni-trash-can"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card-style-2","mb-30"],["class","card-image",4,"ngIf"],[1,"card-content"],[1,"divider"],[1,"read-more",3,"href"],[1,"card-image"],[2,"cursor","pointer",3,"href"],["alt","Hahahah",3,"src"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3,"Category Product"),t.qZA()(),t.TgZ(4,"div",0),t.YNc(5,z,13,4,"div",3),t.qZA(),t.TgZ(6,"div",1)(7,"h2",2),t._uU(8,"Product List"),t.qZA(),t.YNc(9,X,3,0,"button",4),t._uU(10," \xa0 "),t.YNc(11,W,2,0,"a",5),t.YNc(12,et,1,1,"ng-template",null,6,t.W1O),t._uU(14,"\xa0 "),t.qZA(),t.YNc(15,rt,15,3,"div",7),t.YNc(16,ut,2,1,"div",8),t.YNc(17,_t,4,4,"div",8),t.qZA()),2&e){const r=t.MAs(13);t.xp6(5),t.Q6J("ngForOf",n.category),t.xp6(4),t.Q6J("ngIf",n.rule.CONTENT_MGMT),t.xp6(2),t.Q6J("ngIf",n.rule.CONTENT_MGMT&&n.isManaging)("ngIfElse",r),t.xp6(4),t.Q6J("ngIf",!n.isManaging),t.xp6(1),t.Q6J("ngIf",n.rule.ACTIVITY_MGMT),t.xp6(1),t.Q6J("ngIf",!n.isManaging)}},directives:[a.sg,u.yS,a.O5,u.rH,c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,v.LS,a.mk],pipes:[v._s,A.Z],styles:[""]}),i})()},{path:"group/:id/:category",component:(()=>{class i{constructor(e,n){this.route=e,this.productServcie=n,this.subs=new _.Y,this.product=null,this.isManaging=!1,this.gridLayout=!0,this.apiurl=m.N.apiUrl+"/image/",this.rule=JSON.parse(localStorage.getItem("2"))}ngOnInit(){this.categoryName=this.route.snapshot.params.category,this.subs.add(this.productServcie.getByCategory(this.route.snapshot.params.id).subscribe(e=>this.product=e))}onCBChanged(e){this.isManaging=e}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.gz),t.Y36(f.M))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-group"]],decls:15,vars:4,consts:[[1,"row"],[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],[1,"card-style","mb-30"],[1,"col-lg-6"],["routerLink","/product",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover"],[1,"lni","lni-chevron-left","mr-5"],["class","main-btn active-btn btn-hover",3,"click",4,"ngIf","ngIfElse"],["metroLayout",""],[4,"ngIf"],[1,"main-btn","active-btn","btn-hover",3,"click"],[1,"lni","lni-menu"],["class","main-btn deactive-btn btn-hover",3,"click",4,"ngIf"],[1,"main-btn","deactive-btn","btn-hover",3,"click"],[1,"lni","lni-microsoft"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"card-style-2","mb-30"],["class","card-image",4,"ngIf"],[1,"card-content"],[1,"divider"],[1,"read-more",3,"href"],[1,"card-image"],[2,"cursor","pointer",3,"href"],["alt","Hahahah",3,"src"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3),t.qZA()(),t.TgZ(4,"div",0)(5,"div",3)(6,"div",4)(7,"button",5),t._UZ(8,"i",6),t._uU(9,"Back"),t.qZA(),t._uU(10," \xa0 "),t.YNc(11,ft,2,0,"a",7),t.YNc(12,ht,1,1,"ng-template",null,8,t.W1O),t.qZA()()(),t.YNc(14,Zt,3,1,"div",9),t.qZA()),2&e){const r=t.MAs(13);t.xp6(3),t.Oqu(n.categoryName),t.xp6(8),t.Q6J("ngIf",!n.isManaging&&n.gridLayout)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",!n.isManaging)}},directives:[u.rH,a.O5,a.sg,a.mk],styles:[""]}),i})()},{path:"add",component:P},{path:"edit/:id",component:P}]}];let Pt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.Bz.forChild(xt)],u.Bz]}),i})(),At=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.ez,c.UX,Pt,x.A0,c.u5,v.JX,A.h]]}),i})()}}]);
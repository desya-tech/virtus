"use strict";(self.webpackChunkappdemo_ng12=self.webpackChunkappdemo_ng12||[]).push([[831],{7831:(L,g,p)=>{p.r(g),p.d(g,{GroupPointModule:()=>B});var d=p(9808),r=p(4182),l=p(8266),t=p(9863);let Z=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-group-point-layout"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},directives:[l.lC],styles:[""]}),i})();var a=p(7224),h=p(8745),A=p(2454),T=p.n(A),m=p(1075),f=p(1914),c=p(8567),_=p(3189);function G(i,o){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.xp6(1),t.Oqu(e.BP_GROUP_NAME)}}function C(i,o){1&i&&(t.TgZ(0,"span"),t._UZ(1,"i",30),t.qZA())}function U(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td",24)(2,"p"),t._uU(3),t.qZA()(),t.TgZ(4,"td",24),t.YNc(5,G,2,1,"p",19),t.qZA(),t.TgZ(6,"td")(7,"div",25)(8,"button",26),t._UZ(9,"i",27),t.qZA(),t._uU(10,"\xa0 "),t.TgZ(11,"button",28),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw().confirmBox("delete",u)}),t.YNc(12,C,2,0,"span",29),t.qZA()()()()}if(2&i){const e=o.$implicit;t.xp6(3),t.Oqu(e.GROUP_POINT_NAME),t.xp6(2),t.Q6J("ngForOf",e.group_bp_list),t.xp6(3),t.MGl("routerLink","edit/",e.GROUP_POINT_ID,""),t.xp6(3),t.Q6J("disabled",e.isDeleting),t.xp6(1),t.Q6J("ngIf",!e.isDeleting)}}const O=function(i,o){return{itemsPerPage:i,currentPage:o}};let y=(()=>{class i{constructor(e,n){this.groupPointService=e,this.alertService=n,this.subs=new h.Y,this.isManaging=!1,this.gridLayout=!0,this.activities=null,this.grouppoint=null,this.p=1,this.count=10,this.countdata=null}ngOnInit(){this.subs.add(this.groupPointService.getAll().pipe((0,a.P)()).subscribe(e=>{this.grouppoint=e,this.countdata=this.grouppoint.length}))}delete(e){this.alertService.loading();const n=this.grouppoint.find(s=>s.GROUP_POINT_ID===e.GROUP_POINT_ID);this.subs.add(this.groupPointService.delete(e.GROUP_POINT_ID).pipe((0,a.P)()).subscribe(()=>{n.isDeleting=!0,this.grouppoint=this.grouppoint.filter(s=>s.GROUP_POINT_ID!==e.GROUP_POINT_ID),this.countdata=this.grouppoint.length,this.alertService.success()},s=>{this.alertService.error(s)}))}onCBChanged(e){this.isManaging=e}confirmBox(e,n){"delete"==e&&T().fire({title:"Are you sure want to delete?",text:n.GROUP_POINT_NAME,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(s=>{s.value&&this.delete(n)})}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.T),t.Y36(f.c9))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-group-point"]],decls:48,vars:12,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],[1,"mr-40"],["routerLink","add",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-plus","mr-5"],[1,"tables-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card-style","mb-30"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3"],[1,"left"],[1,"right"],[1,"table-search","d-flex"],["action","#"],["type","text","name","something","placeholder","Search...",3,"ngModel","ngModelChange"],[1,"lni","lni-search-alt"],[1,"table-wrapper","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"pt-10","d-flex","flex-wrap","justify-content-between"],[1,"text-sm","text-gray"],[1,"text-right"],[3,"pageChange"],[1,"min-width"],[1,"action"],[1,"text-primary",2,"cursor","pointer",3,"routerLink"],[1,"lni","lni-pencil-alt"],[1,"text-danger",3,"disabled","click"],[4,"ngIf"],[1,"lni","lni-trash-can"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2,"Group Point"),t.qZA(),t.TgZ(3,"button",2),t._UZ(4,"i",3),t._uU(5," Add "),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),t._UZ(11,"div",9),t.qZA(),t.TgZ(12,"div",10)(13,"div",11)(14,"p"),t._uU(15,"Show "),t.TgZ(16,"span"),t._uU(17,"10"),t.qZA(),t._uU(18," entries"),t.qZA()(),t.TgZ(19,"div",12)(20,"div",13)(21,"form",14)(22,"input",15),t.NdJ("ngModelChange",function(u){return n.filterdata=u}),t.qZA(),t.TgZ(23,"button"),t._UZ(24,"i",16),t.qZA()()()()(),t.TgZ(25,"div",17)(26,"table",18)(27,"thead")(28,"tr")(29,"th")(30,"h6"),t._uU(31,"Group Point"),t.qZA()(),t.TgZ(32,"th")(33,"h6"),t._uU(34,"Bp Group"),t.qZA()(),t.TgZ(35,"th")(36,"h6"),t._uU(37,"Action"),t.qZA()()()(),t.TgZ(38,"tbody"),t.YNc(39,U,13,5,"tr",19),t.ALo(40,"paginate"),t.ALo(41,"filter"),t.qZA()()(),t.TgZ(42,"div",20)(43,"div",11)(44,"p",21),t._uU(45),t.qZA()(),t.TgZ(46,"div",22)(47,"pagination-controls",23),t.NdJ("pageChange",function(u){return n.p=u}),t.qZA()()()()()()()),2&e&&(t.xp6(22),t.Q6J("ngModel",n.filterdata),t.xp6(17),t.Q6J("ngForOf",t.xi3(40,3,t.xi3(41,6,n.grouppoint,n.filterdata),t.WLB(9,O,n.count,n.p))),t.xp6(6),t.hij("Total ",n.countdata," Group"))},directives:[l.rH,r._Y,r.JL,r.F,r.Fj,r.JJ,r.On,d.sg,d.O5,c.LS],pipes:[c._s,_.Z],styles:[""]}),i})();var I=p(3320),b=p(636);function N(i,o){1&i&&(t.TgZ(0,"h4",19),t._uU(1,"New Group Point"),t.qZA())}function S(i,o){1&i&&(t.TgZ(0,"h4",19),t._uU(1,"Edit Group Point"),t.qZA())}function M(i,o){1&i&&(t.TgZ(0,"div",21),t._uU(1,"*Group Point required"),t.qZA())}function x(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,M,2,0,"div",20),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.GROUP_POINT_NAME.errors.required)}}function J(i,o){1&i&&t._UZ(0,"span")}const q=function(i){return{"is-invalid":i}},E=function(){return{standalone:!0}};let v=(()=>{class i{constructor(e,n,s,u,P,R){this.formBuilder=e,this.route=n,this.router=s,this.groupPointService=u,this.alertService=P,this.bpGroupService=R,this.subs=new h.Y,this.loading=!1,this.submitted=!1,this.data=null,this.bpgroup=null,this.bpgroupall=null,this.selectedbpgroup=null}ngOnInit(){this.id=this.route.snapshot.params.id,this.isAddMode=!this.id,this.form=this.formBuilder.group({GROUP_POINT_ID:[0],GROUP_POINT_NAME:["",r.kI.required],ISACTIVE:[!0],group_bp_list:[""]}),this.subs.add(this.bpGroupService.getbygroupbp().subscribe(e=>{this.isAddMode?this.bpgroupall=e:this.subs.add(this.groupPointService.getgrouppointbp(this.id).pipe((0,a.P)()).subscribe(n=>{this.bpgroupall=e,n.forEach(s=>{null!==this.bpgroupall&&this.bpgroupall.push(s)})}))})),this.isAddMode||(this.subs.add(this.groupPointService.getById(this.id).pipe((0,a.P)()).subscribe(e=>{this.form.patchValue(e)})),this.subs.add(this.groupPointService.getgrouppointbp(this.id).pipe((0,a.P)()).subscribe(e=>{this.selectedbpgroup=e})))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.isAddMode?this.create():this.update())}create(){this.alertService.loading(),this.subs.add(this.groupPointService.create(this.form.value).pipe((0,a.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}}))}update(){this.alertService.loading(),this.subs.add(this.groupPointService.update(this.id,this.form.value).pipe((0,a.P)()).subscribe({next:()=>{this.alertService.success(),this.router.navigate(["../../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}}))}onSelection(e){this.form.get("group_bp_list").setValue(e)}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu),t.Y36(l.gz),t.Y36(l.F0),t.Y36(m.T),t.Y36(f.c9),t.Y36(I._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-group-point-add-edit"]],decls:38,vars:14,consts:[[1,"title","d-flex","align-items-center","flex-wrap","mb-30"],["class","mr-40",4,"ngIf"],["routerLink","/group-point",1,"main-btn","primary-btn","btn-hover","btn-sm"],[1,"lni","lni-chevron-left","mr-5"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-lg-6"],[1,"card-style","mb-30"],[1,"divider"],[1,"input-style-1"],["type","text","formControlName","GROUP_POINT_NAME",3,"ngClass"],[4,"ngIf"],[1,"select-position"],["bindLabel","BP_GROUP_NAME","placeholder","Select Bp Group","appendTo","body",3,"items","multiple","ngModel","ngModelOptions","change","ngModelChange"],[1,"form-check","form-switch","toggle-switch","mb-30"],["formControlName","ISACTIVE","type","checkbox","id","toggleSwitc1",1,"form-check-input"],["for","toggleSwitch1",1,"form-check-label"],["routerLink","/group-point",1,"main-btn","primary-btn-outline","rounded-btn","btn-hover","btn-sm"],[1,"main-btn","primary-btn","rounded-btn","btn-hover","btn-sm",3,"disabled"],[1,"mr-40"],["style","color:red",4,"ngIf"],[2,"color","red"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,N,2,0,"h4",1),t.YNc(2,S,2,0,"h4",1),t.TgZ(3,"button",2),t._UZ(4,"i",3),t._uU(5," Back "),t.qZA()(),t.TgZ(6,"div",4)(7,"form",5),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(8,"div",6)(9,"div",7)(10,"h5"),t._uU(11,"Group Name"),t.qZA(),t.TgZ(12,"span",8),t._UZ(13,"hr"),t.qZA(),t.TgZ(14,"div",9)(15,"label"),t._uU(16,"Group Name"),t.qZA(),t._UZ(17,"input",10),t.YNc(18,x,2,1,"div",11),t.qZA(),t.TgZ(19,"div")(20,"label"),t._uU(21,"BP Group"),t.qZA(),t.TgZ(22,"div",12)(23,"ng-select",13),t.NdJ("change",function(u){return n.onSelection(u)})("ngModelChange",function(u){return n.selectedbpgroup=u}),t.qZA()()(),t._UZ(24,"br"),t.TgZ(25,"div",14),t._UZ(26,"input",15),t.TgZ(27,"label",16),t._uU(28,"Is Active"),t.qZA()(),t.TgZ(29,"span",8),t._UZ(30,"hr"),t.qZA(),t.TgZ(31,"div")(32,"button",17),t._uU(33," Cancel "),t.qZA(),t._uU(34,"\xa0 "),t.TgZ(35,"button",18),t.YNc(36,J,1,0,"span",11),t._uU(37," \xa0Save\xa0 "),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.isAddMode),t.xp6(1),t.Q6J("ngIf",!n.isAddMode),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(10),t.Q6J("ngClass",t.VKq(11,q,n.submitted&&n.f.GROUP_POINT_NAME.errors)),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.GROUP_POINT_NAME.errors),t.xp6(5),t.Q6J("items",n.bpgroupall)("multiple",!0)("ngModel",n.selectedbpgroup)("ngModelOptions",t.DdM(13,E)),t.xp6(12),t.Q6J("disabled",n.loading),t.xp6(1),t.Q6J("ngIf",n.loading))},directives:[d.O5,l.rH,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,d.mk,b.w9,r.On,r.Wl],styles:[""]}),i})();const Y=[{path:"group-point",component:Z,children:[{path:"",component:y},{path:"add",component:v},{path:"edit/:id",component:v}]}];let w=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Y)],l.Bz]}),i})(),B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[d.ez,r.UX,w,b.A0,r.u5,c.JX,_.h]]}),i})()}}]);